<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <link rel="stylesheet" href="/css/app.css">
    <script src="/scripts/app.js"></script>
    <script src="/scripts/sql.js/1.40/sql-wasm.js"></script>
    <!-- Note the usage of `type=module` here as this is an ES6 module -->
    <script type="module">
      import * as money_manager from '/scripts/money_manager.js';

      async function run() {
        await money_manager.default('/scripts/money_manager_bg.wasm');

        // make the functions available to the browser
        window.money_manager = money_manager;

        //chain load sqlite library next, by first getting a config setup
        var config = {
          locateFile: (filename, prefix) => {
            return `scripts/sql.js/1.40/${filename}`;
          }
        };

        // and then getting the sqlContext
        window.sqlContext = await initSqlJs(config);

        var start_date = new Date();
        //WireUpControls();
        var end_date = new Date();
        console.log(end_date - start_date);

        var start_date = new Date();
        money_manager.wireup_controls();
        var end_date = new Date();
        console.log(end_date - start_date);
        
      }
      run();
    </script>    
  <head>
  <body>
    <div id="header_div">
      <button id="main_menu_refresh_accounts" class="main_menu_button">Accounts</button>
      <button id="main_menu_save_file" class="main_menu_button">Save File</button>
      <button id="main_menu_load_file" class="main_menu_button">
        Load File
        <input type="file" id="money_manager_file_input" />
      </button>
    </div>
    <div id="body_div"></div>
    <div id="footer_div"></div>
  </body>
<html>
